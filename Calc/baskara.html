<html>
<head>
<link rel="stylesheet" href="./estilos.css">
<script src="./node_modules/mathjs/lib/browser/math.js"></script>
</head>
<body>
<div class="calc">
<div class="screen">
<label id="entrada" value="">a= ,b= ,c= </label><br>
<label id="salida" value="">Baskara</label>
</div>
<div class="fila"><button class="func" id="shift">SHIFT</button><a href="index.html"><button id="" class="func">F1</button></a><button id="" class="func">F2</button><button id="" class="func">F3</button></div>
<div class="fila"><button class="botones" id="raiz">&#8730</button><button id="nCr" class="botones">nCr</button><button id="coma" class="botones">,</button><button id="nPr" class="botones">nPr</button></div>

<div class="fila"><button id="sin" class="botones">sin</button><button id="cos" class="botones">cos</button><button id="tan" class="botones">tan</button><button id="c" class="botones">C</button><br></div>
<div class="fila"><button class="botones" id="1">1</button><button id="2" class="botones">2</button><button id="3"class="botones">3</button><button id="mas" class="botones">+</button><br></div>
<div class="fila"><button id="4" class="botones">4</button><button id="5" class="botones">5</button><button id="6" class="botones">6</button><button id="menos" class="botones">-</button><br></div>
<div class="fila"><button id="7" class="botones">7</button><button id="8" class="botones">8</button><button id="9" class="botones">9</button><button id="por" class="botones">x</button><br></div>
<div class="fila"><button id="0" class="botones">0</button><button id="." class="botones">.</button><button id="pow" class="botones">^</button><button id="div" class="botones">&#247</button><br></div>



<div class="fila"><button id="oParent" class="botones">(</button><button id="cParent" class="botones">)</button><button id="borrar" class="botones">AC</button><button id="res" class="botones">=</button>
</div>
<br>
<div class='fila'>
<p class='cred'>by JulioProfeUY</p>
</div>
</div>

<script>
const botones = document.querySelectorAll(".botones");

var valor = '';
let valores = [''];
var cont = 0;
var a = 0;
var b = 0;
var c = 0;
const cuandoSeHaceClick = function (evento) {
if((this.id === '0')|(this.id === '1')|(this.id === '2')|(this.id === '3')|(this.id === '4')|(this.id === '5')|(this.id === '6')|(this.id === '7')|(this.id === '8')|(this.id === '9')|(this.id === 'menos')){
    valores.push(valor);
	valor = valor + this.innerText;
	document.getElementById('salida').textContent=valor;
}else if(this.id === 'c'){
    valor = valores.pop();
    document.getElementById('salida').textContent=valor;
}else if(this.id === 'borrar'){
    valor = '';
    valores = [''];
    cont = 0;
    document.getElementById('salida').textContent=valor;
    document.getElementById('entrada').textContent = "a= ,b= ,c= ";
}
else if((this.id === 'res')&&(cont === 0)){
    var str_a = valor;
    a = parseInt(str_a);
    valor = '';
    valores = [''];
    document.getElementById('salida').textContent = valor;
    document.getElementById('entrada').textContent = "a="+a+",b= ,c= ";
    cont++;
}else if((this.id === 'res')&&(cont === 1)){
    var str_b = valor;
    b = parseInt(str_b);
    valor = '';
    valores = [''];
    document.getElementById('salida').textContent = valor;
    document.getElementById('entrada').textContent = "a="+a+",b="+b+",c= ";
    cont++;
}else if((this.id === 'res')&&(cont === 2)){
    var str_c = valor;
    c = parseInt(str_c);
    valor = '';
    valores = [''];
    document.getElementById('salida').textContent = valor;
    document.getElementById('entrada').textContent = "a="+a+",b="+b+",c="+c;
    var disc = b*b-4*a*c;
    if(disc<0){
        document.getElementById('salida').textContent = 'No hay raices reales';
    }else{
        var x1 = (-b+Math.sqrt(disc))/(2*a);
        var x2 = (-b-Math.sqrt(disc))/(2*a);

if (x1 != Math.trunc(x1)){

x1 = x1.toFixed(3);

}

if (x2 !=  Math.trunc(x2)){

x2 = x2.toFixed(3);

}

        document.getElementById('salida').innerHTML = "X<span><sub>1</sub></span>="+x1+" ,X<span><sub>2</sub></span>="+x2;
        cont = 0;
    }
}
}

botones.forEach(boton => {
    boton.addEventListener("click", cuandoSeHaceClick);
});

</script>